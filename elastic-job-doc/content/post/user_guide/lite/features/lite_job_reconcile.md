+++
date = "2016-01-27T16:14:21+08:00"
title = "Elastic-Job-Lite自诊断并修复分布式不稳定造成的问题"
weight=26
+++

# Elastic-Job-Lite自诊断并修复分布式不稳定造成的问题

在分布式的场景下由于网络、时钟等原因，可能导致`Zookeeper`的数据与真实运行的作业产生不一致，这种不一致通过正向的校验无法完全避免。需要另外启动一个线程定时校验注册中心数据与真实作业状态的一致性，即维持`Elastic-Job`的最终一致性。

在`2.0.6`之前的版本中，网络不稳定的环境下`Elastic-Job`有可能有的作业分片并未执行，重启一下就能修复。在`2.0.6`，版本中`Elastic-Job`在提供`reconcileIntervalMinutes`设置修复状态服务执行间隔分钟数，用于修复作业服务器不一致状态，默认每`10`分钟检测并修复一次。
